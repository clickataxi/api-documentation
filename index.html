<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Click A Taxi API by clickataxi</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Click A Taxi API</h1>
        <p>Documentation for our public API</p>

        <p class="view"><a href="https://github.com/clickataxi/api-documentation">View the Project on GitHub <small>clickataxi/api-documentation</small></a></p>


        <ul>
          <li><a href="https://github.com/clickataxi/api-documentation/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/clickataxi/api-documentation/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/clickataxi/api-documentation">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <hr><h2>layout: default</h2>

<p>The Click A Taxi API provides the ability to create and retrieve required information in order to book taxis globally.</p>

<h2>Introduction</h2>

<p>Every URL is in the format <a href="https://api.clickataxi.com/:resource%5B/:action%5B?:params%5D%5D">https://api.clickataxi.com/:resource[/:action[?:params]]</a> such as <a href="https://api.clickataxi.com/places/nearby">https://api.clickataxi.com/places/nearby</a> to get a list of nearby places.</p>

<p>Every request must include a <code>User-Agent</code> header with your application name and an url or email address. We need this for tracking purposes and we might contact you in case this information isn't probably filled out. An example of a good header would be <code>FooBooking-Version5 (http://foo-bookings.com/)</code>. Requests without this header might get a <code>400 Bad Request</code> in future versions of the API.</p>

<p>The <code>Accept</code> header specifies which format to return. Only <code>application/json</code> is supported.</p>

<p>Returned format may be overridden by appending a format parameter to a request e.g. <a href="https://api.clickataxi.com/companies?format=json">https://api.clickataxi.com/companies?format=json</a>.</p>

<p>Clients must include an <code>Accept</code> header with a custom Click A Taxi mime type to specify which version of the API to use e.g.</p>

<pre><code>application/vnd.clickataxi[.version]+[type]
</code></pre>

<p>If this header isn't specified the latest API version is used but it's highly recommended to specific a specific version since future revisions might not be fully backward compatible.</p>

<p>Currently <code>v1</code>, <code>v2</code> and <code>latest</code> are supported as <code>version</code> and <code>json</code> as <code>type</code>. </p>

<p>Responses will be compressed if request includes an <code>Accept-Encoding</code> header with a <code>gzip</code> value.</p>



<p>All timestamps are represented as ISO 8601.</p>

<p>IDs are represented as strings and should be stored and treated as strings. Format of IDs might change across API versions.</p>

<p>Example requests are constructed using <a href="http://en.wikipedia.org/wiki/CURL">cURL</a> commands.</p>

<h2>Suggested booking flow</h2>

<p>As as minimum requirement to book a taxi, one must first <a href="#authorizations">authenticate</a> then create a <a href="#clients">create a client</a> and finally <a href="#bookings">create a booking</a>. Usually one would also like to display which taxi companies <a href="#spot_companies">operate in a given area</a> and check if that company allows automatic booking and/or a special type of vehicle.</p>

<h2>Authentication</h2>

<p>You authenticate by sending token either as an <code>Authorization</code> header:</p>

<pre><code>curl https://api.clickataxi.com \
    -H "Authorization: Token token=\"OAUTH-TOKEN\""
</code></pre>

<p>Or by appending it as an <code>access_token</code> parameter:</p>

<pre><code>curl https://api.clickataxi.com?access_token=OAUTH-TOKEN
</code></pre>

<p>Tokens can be initially acquired programmatically using basic authentication through <a href="#authorizations">/authorizations</a>.</p>

<h2>JSON-P callbacks</h2>

<p>You may send a <code>?callback</code> parameter to any GET operations to have results wrapped in a JSON callback function. This is typically used when browsers want to embed content in web pages by getting around cross domain issues. The response includes the same data output as the regular API, plus the relevant HTTP Header information.</p>

<h2>Operations</h2>

<h3>
<a></a> POST /authorizations</h3>

<p>Requests an authorization token by posting via basic authentication. Upon successful authentication a 256-bit token will be returned which should be used for future requests. These access tokens doesn't by default expire but it might become invalid over time. Using an invalid token in requests will result in <code>401 Unauthorized</code> responses and you should in that case re-issue a request for a new token.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/authorizations \
    -u john:doe -d '' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -H 'Content-type: application/json'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.0 201 Created
Content-Type: application/json; charset=utf-8

{
    "token": "1111a3bb8d4a40f08100e640621fee10"
}
</code></pre>

<h3>
<a></a> GET /places/nearby</h3>

<p>Returns list of nearby Point Of Interests (POIs). This could include airports, metro- or bus stations, restaurants and many more. One POI doesn't necessarily have a category and it might even have more than one category.</p>

<h4>Request parameters</h4>

<p>All parameters are optional unless specified otherwise.</p>

<p><code>latlng</code> <em>required</em> Latitude and longitude of users current location separated with comma (example <code>55.10,12.13</code>)</p>

<p><code>radius</code> Radius (in meters) for nearby places. Fallbacks to a sensible default (example <code>25000</code>)</p>

<p><code>language</code> ISO 639-1 language code for getting localized names for returned places (example <code>da</code>)</p>

<h4>Response attributes</h4>

<p><code>ref</code> Unique identifier for this POI and may be used as <code>placeRef</code> attribute when <a href="#post_clients_bookings">creating a booking</a>.</p>

<p><code>name</code> A localized name for a POI using requested language. An English name is returned in case none exists in requested language.</p>

<p><code>distance</code> Calculated distance to this POI in meters.</p>

<p><code>radius</code> Radius in meters of this POI.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/places/nearby?latlng=55.68%2C12.59&amp;radius=1000&amp;language=da \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.0 200 OK
Content-Type: application/json; charset=utf-8

[
    {
        "id": "1",
        "ref": "COPENHAGEN AIRPORT",
        "name": "KÃ¸benhavns Lufthavn",
        "location": {
            "streetName": "Lufthavnsboulevarden",
            "houseNumber": "6",
            "zipCode": "2770",
            "city": "Copenhagen",
            "country": "DK",
            "distance": 3241,
            "radius": 750,
            "lng": 12.638780000000001,
            "lat": 55.629640000000002
        },
        "categories": [
            {
                "type": "airport",
                "iconUrl": "http://resource.clickataxi.com/icons/place_type_airport@2x.png"
            }
        ]
    }
]
</code></pre>

<h3>
<a></a> GET /companies/:companyId</h3>

<p>Returns details about a specific company. Use this operation to a high-level details such as name, phone number and rating for a company. Operation will not return vehicle types, destination required details, etc since these are based on region and could be requested by using <a href="#spot_companies">/companies/spot</a> instead.</p>

<h4>Request parameters</h4>

<p><code>id</code> <em>required</em> Id of company</p>

<h4>Response attributes</h4>

<p><code>name</code> Name of taxi company</p>

<p><code>phone</code> Number for taxi company using the <a href="http://en.wikipedia.org/wiki/E.164">E.164 format</a>.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/companies/1081132172 \
    -H 'Authorization: Token token="11113a3bb8d4a40f08065e640621fee63"'
    -H 'Accept: application/vnd.clickataxi.v2+json'
</code></pre>

<h4>Example response</h4>

<pre><code>{
    "id": "1081132172",
    "name": "Taxi4x35",
    "logoUrl": "http://resource.clickataxi.com/logos/taxi4x35.png",
    "phone": "+4535309184",
    "rating": 4.0
}
</code></pre>

<h3>
<a></a> GET /companies/spot</h3>

<p>Returns a list of taxi companies operating in specified area. List is ordered by priority and if list is empty, no taxi companies were found to operate in specified area.</p>

<h4>Request parameters</h4>

<p><code>latlng</code> <em>required*</em> Latitude and longitude separated with comma where taxi is requested (example <code>55.10,12.13</code>)</p>

<p><code>language</code> ISO 639-1 language code for getting localized names for returned address and description (example <code>da</code> for Danish). Defaults to <code>en</code> (for English).</p>

<p><code>country</code> <em>required*</em> ISO 3166 country code where taxi is requested (example <code>DK</code>)</p>

<p><code>zipCode</code> <em>required*</em> Zip code where taxi is requested (example <code>2200</code>)</p>

<p>(*) required should be understood as (<code>latlng</code> OR (<code>zipCode</code> AND <code>country</code>))</p>

<h4>Response attributes</h4>

<p><code>properties.name[vehicleTypes]</code> A list of available vehicle types offered by company. The <code>ref</code> attribute should be used as <code>vehicleType</code> attribute when ordering a taxi. List vary from company to company but may be cached by company. Consider rechecking this attribute over time, though since taxi companies might start to support more vehicle types.</p>

<table>
<tr>
<th width="20%">Ref</th>
        <th>Description</th>
    </tr>
<tr>
<td>fourSeaterAny</td>
        <td>Standard four seater car</td>
    </tr>
<tr>
<td>fourSeaterStationCar</td>
        <td>Four seater station car</td>
    </tr>
<tr>
<td>fiveSeater</td>
        <td>Five seater car</td>
    </tr>
<tr>
<td>sixSeater</td>
        <td>Six seater car</td>
    </tr>
<tr>
<td>sevenSeater</td>
        <td>Seven seater car</td>
    </tr>
<tr>
<td>eightSeater</td>
        <td>Eight seater car</td>
    </tr>
<tr>
<td>premium</td>
        <td>Premium car</td>
    </tr>
</table><p><code>properties.name[services]</code> Additional services offered by company.</p>

<table>
<tr>
<th width="20%">Ref</th>
        <th>Description</th>
    </tr>
<tr>
<td>childSeat</td>
        <td>Child seats are available upon request</td>
    </tr>
<tr>
<td>bike</td>
        <td>Bikes may be brought with you</td>
    </tr>
<tr>
<td>animals</td>
        <td>Animals may be brought onboard</td>
    </tr>
<tr>
<td>wheelchair</td>
        <td>Wheelchairs may be brought onboard</td>
    </tr>
</table><h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/companies/spot?zipCode=2200&amp;country=dk \
    -H 'Authorization: Token token="11113a3bb8d4a40f08065e640621fee63"'
    -H 'Accept: application/vnd.clickataxi.v2+json'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.0 200 OK
Content-Type: application/json; charset=utf-8

[
    {
        "id": "42345",
        "phone": "+4535359001",
        "name": "Taxi 4x35",
        "properties": [
            {
                "name": "vehicleTypes",
                "values": [
                    {
                        "ref": "fourSeaterAny",
                        "iconUrl": "http://resource.clickataxi.com/icons/four-seater-any@2x.png"
                    },
                    {
                        "ref": "sixSeater",
                        "iconUrl": "http://resource.clickataxi.com/icons/six-seater@2x.png"
                    }
                ],
                "mutuallyExclusive": true
            },
            {
                "name": "services",
                "values": [
                    {
                        "ref": "childSeat",
                        "iconUrl": "http://resource.clickataxi.com/icons/child_seat@2x.png"
                    },
                    {
                        "ref": "animals",
                        "iconUrl": "http://resource.clickataxi.com/icons/animals@2x.png"
                    },
                    {
                        "ref": "bike",
                        "iconUrl": "http://resource.clickataxi.com/icons/bike@2x.png"
                    }
                ],
                "mutuallyExclusive": false
            }
        ],
        "destinationRequired": false,
        "automatedBooking": true
    }
]
</code></pre>

<h3>GET /clients/:clientId/bookings</h3>

<p>Returns list of all bookings created by client with specified id. Only bookings for clients you have created can be requested. Requesting bookings for a client you haven't created will return a 404 error message.</p>

<h4>Request parameters</h4>

<p>All parameters are optional unless specified otherwise.</p>

<p><code>since</code> Only return bookings after this timestamp (example <code>2012-03-24T11:00:00Z</code>)</p>

<h4>Response attributes</h4>

<p><code>company</code> Company handling order</p>

<p><code>pickup</code> Pickup details</p>

<p><code>vehicleType</code> Type of car which will come to pickup client. Valid values are returned in <a href="#spot_companies">companies/spot</a> operations (<code>vehicleTypes</code> attribute)</p>

<p><code>arrivalAt</code> Date and time when taxi will arrive.</p>

<p><code>statuses</code> List of statuses associated with booking. Statuses are localized based on clients language. See <a href="#get_client_booking">clients/:clientId/bookings/:bookingId</a> for details about these statuses.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/clients/61241/bookings?since=2012-01-01 \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -H 'Content-Type: application/json' 
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.0 200 OK
Content-Type: application/json; charset=utf-8

[
    {
        "id": "1",
        "company": {
            "id": "1",
            "name": "Taxa 4x35",
            "destinationRequired": false
        },
        "pickup": {
            "streetName": "Amaliegade",
            "houseNumber": "36",
            "city": "Copenhagen K",
            "country": "DK",
            "distance": 0,
            "lat": 55.68,
            "lng": 12.59,
            "zipCode": "1256"
        },
        "vehicleType": "fourSeaterAny",
        "statuses": [
            {
                "createdAt": "2012-08-28T13:43:03.4005202Z",
                "type": "executed",
                "header": "Booking is received",
                "body": "Your taxi will pick you up at the selected time",
                "cancelable": true,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:42:59.5315289Z",
                "type": "processing",
                "header": "Processing",
                "body": "We are processing thebooking request.",
                "cancelable": true,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:42:48.9221817Z",
                "type": "registered",
                "header": "Booking is received",
                "body": "Your taxi will pick you up at the selected time",
                "cancelable": true,
                "completed": false
            }
        ],
        "createdAt": "2012-03-19T06:30:01.0000000Z",
        "arrivalAt": "2012-03-20T08:00:00.0000000Z"
    },
    {
        "id": "2",
        "company": {
            "id": "1",
            "name": "Taxa 4x35",
            "destinationRequired": false
        },
        "pickup": {
            "streetName": "Jagtvej",
            "houseNumber": "111",
            "city": "Copenhagen N",
            "country": "DK",
            "distance": 0,
            "lat": 54.310000000000002,
            "lng": 12.199999999999999,
            "zipCode": "2200"
        },
        "vehicleType": "fourSeaterStationCar",
        "statuses": [
            {
                "createdAt": "2012-08-28T13:24:38.7074821Z",
                "type": "paid",
                "header": "Trip finished",
                "body": "Thank you for your business",
                "cancelable": true,
                "completed": true
            },
            {
                "createdAt": "2012-08-28T13:24:30.6422698Z",
                "type": "ongoing",
                "header": "Trip in progress",
                "body": "Enjoy the ride",
                "cancelable": false,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:24:22.5826582Z",
                "type": "arrived",
                "header": "Arrived",
                "body": "Taxa 4 x 35 has arrived!",
                "cancelable": false,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:24:14.5090438Z",
                "type": "arrival_time",
                "header": "Status update",
                "body": "Updated arrival time is approx: 5 min.",
                "cancelable": false,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:24:07.0955614Z",
                "type": "accepted",
                "header": "Booking is received",
                "body": "Your taxi will pick you up at the selected time",
                "cancelable": false,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:24:06.9895402Z",
                "type": "cancel_disabled",
                "header": "Booking is received",
                "body": "Your taxi will pick you up at the selected time",
                "cancelable": false,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:24:00.0468327Z",
                "type": "executed",
                "header": "Booking is received",
                "body": "Your taxi will pick you up at the selected time",
                "cancelable": true,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:23:56.3048576Z",
                "type": "processing",
                "header": "Processing",
                "body": "We are processing the booking request.",
                "cancelable": true,
                "completed": false
            },
            {
                "createdAt": "2012-08-28T13:23:44.7758936Z",
                "type": "registered",
                "header": "Booking is received",
                "body": "Your taxi will pick you up at the selected time",
                "cancelable": true,
                "completed": false
            }
        ],
        "createdAt": "2012-03-12T19:05:32.0000000Z",
        "arrivalAt": "2012-03-12T19:05:32.0000000Z"
    }
]
</code></pre>

<h3>
<a></a> POST /clients</h3>

<p>Creates a new client which is necessary before a booking can be created. A client must have at least a name and phone number. Both name and phone number might be send to a taxi company in order to book the taxi, so make sure your privacy policy tells your users about it. An SMS might be sent to client for verification purposes.</p>

<h4>Request attributes</h4>

<p><code>name</code> Name of client which could be formatted to taxi company. This is usually a last name but could be a full name too.</p>

<p><code>phone</code> Number of client formatted as a <a href="http://en.wikipedia.org/wiki/E.164">E.164</a> number.</p>

<p><code>language</code> ISO 639-1 language code of client (example <code>da</code> for Danish). This value is used to determine in which language status messages should be delivered.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/clients \
    -H 'Authorization: Token token="1993a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -H 'Content-type: application/json' \
    -d '{ "name": "Doe", "phone": "+4561616161", "os": "android" }'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.1 201 Created
Content-Type: application/json; charset=utf-8

{
    "createdAt": "2012-09-05T12:11:01.9744265Z",
    "id": "61449",
    "name": "Doe",
    "phone": "+4561616161",
    "language": "en",
    "os": "android",
    "guid": "1003a3bb8d4a40f08065e640621fee63"
}
</code></pre>

<h3>GET /clients/:clientId</h3>

<p>Get details about an existing client. Only clients created by you can be fetched. Requesting other clients will return in 404.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/clients/61449
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"'
    -H 'Accept: application/vnd.clickataxi.v2+json'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8

{
    "createdAt": "2012-09-05T12:11:01.9744265Z",
    "id": "61449",
    "name": "Doe",
    "phone": "+4561616161",
    "language": "en",
    "guid": "1003a3bb8d4a40f08065e640621fee63"
}
</code></pre>

<h3>
<a></a> POST /clients/:clientId/bookings</h3>

<p>Requests a new taxi booking for an existing <a href="#clients">client</a>. An immediate booking is requested by excluding <code>arrivalAt</code> attribute from body. A pre-booking should always have an <code>arrivalAt</code> in its body. Notice, some taxi companies require a destination address so a call to <a href="#spot_companies">/companies/spot</a> should be made before booking in a new area. Check <code>destinationRequired</code> attribute on response to find out if a destination address is required in that area.</p>

<p>A success response means our system has accepted your request for a taxi but not necessarily that this taxi will be booked. Since we are connecting to real taxi companies around the globe it sometimes will not be possible to fulfill the order. You should check the order status by calling <a href="#get_client_booking">/clients/:clientId/bookings/:bookingsId</a> regularly.</p>

<h4>Request attributes</h4>

<p><code>pickup</code> Pickup details</p>

<p><code>dropoff</code> Dropoff details</p>

<p><code>vehicleType</code> Type of car which is requested. Valid values are returned in <a href="#spot_companies">companies/spot</a> operations (<code>vehicleTypes</code> attribute)</p>

<p><code>arrivalAt</code> Optional date and time for when taxi is requested. If not specified a taxi is immediately requested.</p>

<p><code>comment</code> An optional comment for driver to see.</p>

<h4>Example request</h4>

<p>Creates a pre-booking of a medium sized taxi for Christmas Eve. A <code>pickup</code> structure may include a <code>placeRef</code> attribute instead of a full address in case you want to book at a <a href="#nearby_places">Point Of Interest</a>. Client is bringing a child so a child seat is requested.</p>

<pre><code>curl https://api.clickataxi.com/clients/9535253/bookings \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -H 'Content-type: application/json' \
    -d '{ "arrivalAt": "2012-12-24T20:00:00.0000000Z", "pickup":{"streetName":"Amaliegade","houseNumber":"36","zipCode":"1256","city":"Copenhagen K","country":"DK","lat":55.68,"lng":12.59}, "vehicleType": "fourSeaterAny" }'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.0 201 Created
Location: https://api.clickataxi.com/clients/9535253/bookings/483233
Content-Type: application/json; charset=utf-8

{
    "id": "483233",
    "clientId": "9535253",
    "vehicleType": "fourSeaterAny",
    "arrivalAt": "2012-12-24T20:00:00.0000000Z",
    "company": {
        "id": "1",
        "name": "Taxa 4x35",
        "destinationRequired": false,
        "phone": "+4535309184"
    },
    "pickup": {
        "lng": 12.59,
        "country": "DK",
        "zipCode": "1256",
        "city": "Copenhagen K",
        "lat": 55.68,
        "streetName": "Amaliegade",
        "houseNumber": "36",
    },
    "services": [
        "childSeat"
    ]
    "createdAt": "2012-04-09T20:17:16.1958490Z"
}
</code></pre>



<h3>
<a></a> GET /clients/:clientId/bookings/:id</h3>

<p>Returns full details about an existing booking created by client.</p>

<h4>Response attributes</h4>

<p><code>statuses</code> List of statuses associated with booking. Statuses are localized based on client language.</p>

<p><code>statuses[id]</code> Unique id of booking status returned. May be used by you to check if a given status has been handled/displayed for users.</p>

<p><code>statuses[createdAt]</code> Timestamp of when booking status has been created.</p>

<p><code>statuses[type]</code> Type of status returned. Might be one of the below mentioned.</p>

<table>
<tr>
<th width="20%">Type</th>
        <th>Description</th>
    </tr>
<tr>
<td>registered</td>
        <td>Order has been registered</td>
    </tr>
<tr>
<td>dispatched</td>
        <td>Taxi has been dispatched</td>
    </tr>
<tr>
<td>arrived</td>
        <td>Taxi has arrived</td>
    </tr>
<tr>
<td>passengerOnBoard</td>
        <td>Taxi is driving with passenger</td>
    </tr>
<tr>
<td>cancelled</td>
        <td>Order has been cancelled</td>
    </tr>
<tr>
<td>noShow</td>
        <td>Taxi driver reported customer did not show up</td>
    </tr>
<tr>
<td>completed</td>
        <td>Order has been completed</td>
    </tr>
<tr>
<td>delayed</td>
        <td>Taxi is delayed and will arrive later than originally estimated</td>
    </tr>
<tr>
<td>failed</td>
        <td>Order failed and no taxi will arrive</td>
    </tr>
<tr>
<td>processing</td>
        <td>Order is being processed by external systems</td>
    </tr>
<tr>
<td>arrivalTime</td>
        <td>Taxi has responded with an updated arrival time</td>
    </tr>
<tr>
<td>executed</td>
        <td>Order has been dispatched to external systems</td>
    </tr>
<tr>
<td>unfulfilled</td>
        <td>Order was not successfully completed</td>
    </tr>
<tr>
<td>assigned</td>
        <td>Order is being manually assigned</td>
    </tr>
<tr>
<td>cancelDisabled</td>
        <td>Taxi cannot be cancelled anymore</td>
    </tr>
<tr>
<td>lookOut</td>
        <td>Taxi is about to arrive and customer should get ready for it</td>
    </tr>
<tr>
<td>callAssist</td>
        <td>Order requires additional information and customer should call taxi company</td>
    </tr>
</table><p><code>statuses[header]</code> Short description of status. Localized in clients language.</p>

<p><code>statuses[body]</code> Longer description including details of status. Localized in clients language.</p>

<p><code>statuses[cancelable]</code> True if a booking are still valid to cancel; false otherwise. Is <code>true</code> initially and changes to <code>false</code> once a car has been dispatched or if isn't possible to cancel a placed booking.</p>

<p><code>statuses[completed]</code> True if booking may be considered as completed i.e. a client has completed trip or trip has failed.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/clients/61241/bookings/923880 \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -H 'Content-type: application/json'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.0 200 OK
Content-Type: application/json; charset=utf-8

{
    "id": "923880",
    "clientId": "61241",
    "company": {
        "id": "2",
        "name": "Taxa4 x 35",
        "phone": "+4535309184"
    },
    "pickup": {
        "streetName": "Amaliegade",
        "houseNumber": "36",
        "city": "Copenhagen K",
        "country": "DK",
        "distance": 0,
        "lat": 55.68,
        "lng": 12.59,
        "zipCode": "1256"
    },
    "vehicleType": "fourSeaterAny",
    "statuses": [
        {
            "createdAt": "2012-03-19T13:24:00.0468327Z",
            "type": "executed",
            "header": "Booking is received",
            "body": "Your taxi will pick you up at the selected time",
            "cancelable": true,
            "completed": false
        },
        {
            "createdAt": "2012-03-19T13:23:56.3048576Z",
            "type": "processing",
            "header": "Processing",
            "body": "We are processing the booking request.",
            "cancelable": true,
            "completed": false
        },
        {
            "createdAt": "2012-03-19T13:23:44.7758936Z",
            "type": "registered",
            "header": "Booking is received",
            "body": "Your taxi will pick you up at the selected time",
            "cancelable": true,
            "completed": false
        }
    ],
    "createdAt": "2012-03-19T06:30:01.0000000Z",
    "arrivalAt": "2012-03-20T08:00:00.0000000Z"
}
</code></pre>

<h3>DELETE /clients/:clientId/bookings/:bookingId</h3>

<p>Cancels a booking. The method might fail with a <code>422 Unprocessed Entity</code> response in case a booking can't be canceled e.g. if taxi is already on its way or at the pickup address.</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/clients/61241/bookings/923878 \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -X DELETE
</code></pre>

<h4>Example response</h4>

<p>When booking has been canceled successfully</p>

<pre><code>HTTP/1.1 200 OK
</code></pre>

<h3>POST /ratings</h3>

<p>Rates a current booking. The <code>clientId</code>, <code>bookingId</code> and <code>stars</code> attributes are required. Attribute <code>stars</code> must be a valid integer between 1 and 5 (both inclusive).</p>

<h4>Example request</h4>

<pre><code>curl https://api.clickataxi.com/ratings \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' \
    -H 'Content-type: application/json' \
    -d '{ "clientId": "1543263", "bookingId": "5436443", "stars": 4 }'
</code></pre>

<h4>Example response</h4>

<pre><code>HTTP/1.1 201 Created
Location: https://api.clickataxi.com/ratings/9dc8bb819c2a4cc4990a9f93be78669e
Content-Type: application/json; charset=utf-8

{
    "id": "9dc8bb819c2a4cc4990a9f93be78669e",
    "clientId": "1543263",
    "bookingId": "5436443",
    "stars": 4
}
</code></pre>

<h3>GET /geocodings</h3>

<p>Performs a geocoding or reverse geocoding based on parameters.</p>

<h4>Request parameters</h4>

<p><code>latlng</code> <em>required*</em> Latitude and longitude of location for reverse geocoding (example <code>55.10,12.13</code>)</p>

<p><code>address</code> <em>required*</em> Full address to use for geocoding (example <code>Jagtvej 111, Denmark</code>)</p>

<p>(*) Either parameter is required.</p>

<h4>Example request (address)</h4>

<pre><code>curl https://api.clickataxi.com/geocodings?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json' 
</code></pre>

<h4>Example response (address)</h4>

<pre><code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8

[
    {
        "streetName": "Amphitheatre Pkwy",
        "houseNumber": "1600",
        "zipCode": "94043",
        "city": "Mountain View",
        "country": "US",
        "lat": 37.423105399999997,
        "lng": -122.08239880000001
    }
]
</code></pre>

<h4>Example request (latlng)</h4>

<pre><code>curl https://api.clickataxi.com/geocodings?latlng=55.696394,12.55082 \
    -H 'Authorization: Token token="1111a3bb8d4a40f08065e640621fee63"' \
    -H 'Accept: application/vnd.clickataxi.v2+json'
</code></pre>

<h4>Example response (latlng)</h4>

<pre><code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8

[
    {
        "streetName": "Jagtvej",
        "houseNumber": "111",
        "zipCode": "2200",
        "city": "Copenhagen",
        "country": "DK",
        "lat": 55.696393999999998,
        "lng": 12.55082
    }
]
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/clickataxi">clickataxi</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>